<!DOCTYPE html>
<html>
<head>
    <title>Adminè·¯å¾‘æ¸¬è©¦</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { padding: 10px; margin: 5px; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Adminå¾Œå°è·¯å¾‘æ¸¬è©¦</h1>
    
    <button onclick="testRelative()">æ¸¬è©¦ç›¸å°è·¯å¾‘ (../js/shopee_list.json)</button>
    <button onclick="testAbsolute()">æ¸¬è©¦çµ•å°è·¯å¾‘ (/js/shopee_list.json)</button>
    <button onclick="testCurrent()">æ¸¬è©¦ç•¶å‰è·¯å¾‘ (js/shopee_list.json)</button>
    
    <div id="result" style="margin-top: 20px; padding: 15px; border: 1px solid #ccc;"></div>
    
    <script>
    async function testPath(path, desc) {
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = `<h3>æ¸¬è©¦: ${desc}</h3><p>è·¯å¾‘: ${path}</p>`;
        
        try {
            const start = Date.now();
            const response = await fetch(path);
            const time = Date.now() - start;
            
            if (response.ok) {
                const data = await response.json();
                resultDiv.innerHTML += `
                    <p class="success">âœ… æˆåŠŸ (${time}ms)</p>
                    <p>ç”¢å“æ•¸é‡: ${data.products?.length || 0}</p>
                    <p>æœ€å¾Œæ›´æ–°: ${data.lastUpdated || 'æœªçŸ¥'}</p>
                    <h4>å‰3å€‹ç”¢å“ï¼š</h4>
                    <ul>
                        ${(data.products?.slice(0, 3) || []).map(p => 
                            `<li>${p.id}. ${p.name} - RM${p.price}</li>`
                        ).join('')}
                    </ul>
                    <p><strong>å»ºè­°ï¼š</strong>ä½¿ç”¨æ­¤è·¯å¾‘</p>
                `;
                return true;
            } else {
                resultDiv.innerHTML += `<p class="error">âŒ HTTPéŒ¯èª¤: ${response.status}</p>`;
                return false;
            }
        } catch (error) {
            resultDiv.innerHTML += `<p class="error">âŒ éŒ¯èª¤: ${error.message}</p>`;
            return false;
        }
    }
    
    function testRelative() {
        testPath('../js/shopee_list.json', 'ç›¸å°è·¯å¾‘ (å¾adminç›®éŒ„)');
    }
    
    function testAbsolute() {
        testPath('/js/shopee_list.json', 'çµ•å°è·¯å¾‘');
    }
    
    function testCurrent() {
        testPath('js/shopee_list.json', 'ç•¶å‰ç›®éŒ„è·¯å¾‘');
    }
    
    // è‡ªå‹•æ¸¬è©¦
    setTimeout(() => {
        testRelative();
    }, 500);
    </script>
</body>
</html>
